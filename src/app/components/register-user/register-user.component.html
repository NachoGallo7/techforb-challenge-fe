<div class="component-container">
  <div class="registration-info" [ngClass]="{
      'x-large-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.XLarge], 
      'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}">
    <!-- INFO -->
    <div class="info">
      <h1>Registrarse</h1>
      <p>¡Bienvenido! Estamos encantados de que quieras unirte a nuestra plataforma. Regístrate y comienza a disfrutar
        de todas las ventajas que ofrecemos. No pierdas la oportunidad de ser parte de nuestra comunidad.</p>
    </div>
    <!-- ITEMS -->
    <ul class="items">
      <!-- ITEM -->
      <li>
        <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M15.0001 16V7H13.0001V0H20.0001L18.0001 5H20.0001L15.0001 16ZM13 9V16H1.99997C0.899975 16 -2.51321e-05 15.1 -2.51321e-05 14V11C-2.51321e-05 9.9 0.899975 9 1.99997 9H13ZM4.24984 11.75H2.74984V13.25H4.24984V11.75ZM10.9998 1.76572e-06V7H1.99976C0.899756 7 -0.000244141 6.1 -0.000244141 5V2C-0.000244141 0.900002 0.899756 1.76572e-06 1.99976 1.76572e-06H10.9998ZM4.24984 2.75003H2.74984V4.25003H4.24984V2.75003Z"
            fill="#FFB84B" />
        </svg>
        <div class="text-holder">
          <h3>Monitoreo integral</h3>
          <p>Administra, monitorea mutiples plantas de forma centralizada</p>
        </div>
      </li>
      <!-- ITEM -->
      <li>
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M9.99 3.05176e-05C4.47 3.05176e-05 0 4.48003 0 10C0 15.52 4.47 20 9.99 20C15.52 20 20 15.52 20 10C20 4.48003 15.52 3.05176e-05 9.99 3.05176e-05ZM14.2303 16.0001L10.0003 13.4501L5.7703 16.0001L6.8903 11.1901L3.1603 7.96005L8.0803 7.54005L10.0003 3.00005L11.9203 7.53005L16.8403 7.95005L13.1103 11.1801L14.2303 16.0001Z"
            fill="#FFB84B" />
        </svg>
        <div class="text-holder">
          <h3>Notificaciones en tiempo real</h3>
          <p>Recibi notificaciones en tiempo real sobre las mediciones</p>
        </div>
      </li>
    </ul>
  </div>
  <div class="registration-form-container" [ngClass]="{
      'x-large-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.XLarge], 
      'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}">
    <div class="spacer" [ngClass]="{'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}"></div>
    <h1 [ngClass]="{'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}">Portal de monitoreo</h1>
    <h3>Registrarse</h3>
    <form class="registration-form" [ngClass]="{'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}" (ngSubmit)="submit()" [formGroup]="registerForm">
      <!-- USERNAME -->
      <mat-form-field appearance="outline">
        <mat-label>Usuario</mat-label>
        <input matInput name="username" id="username" formControlName="username">
        @if (username?.hasError('required')) {
          <mat-error>
            <strong>Ingrese un nombre de usuario</strong>
          </mat-error>
        }
      </mat-form-field>
      <!-- EMAIL -->
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput name="email" id="email" formControlName="email">
        @if (email?.hasError('required')) {
          <mat-error>
            <strong>Ingrese un email</strong>
          </mat-error>
        } @else if (email?.hasError('email')) {
          <mat-error>
            <strong>El formato del email ingresado no es correcto</strong>
          </mat-error>
        }
      </mat-form-field>
      <!-- PASSWORD -->
      <mat-form-field appearance="outline">
        <mat-label>Contraseña</mat-label>
        <input matInput [type]="hidePasswordSignal() ? 'password' : 'text'" name="password" id="password"
          formControlName="password">
        <button mat-icon-button matSuffix (click)="hidePassword($event)" [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hidePasswordSignal()">
          <mat-icon>{{hidePasswordSignal() ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        @if (password?.hasError('required')) {
          <mat-error>
            <strong>Ingrese una contraseña</strong>
          </mat-error>
        } @else if (password?.hasError('minlength')) {
          <mat-error>
            <strong>La contraseña debe tener 9 o más caracteres</strong>
          </mat-error>
        }
      </mat-form-field>
      <!-- PASSWORD CONFIRMATION -->
      <mat-form-field appearance="outline">
        <mat-label>Repetir contraseña</mat-label>
        <input matInput [type]="hideConfirmationPasswordSignal() ? 'password' : 'text'" name="confirmationPassword" id="confirmationPassword" 
        formControlName="confirmationPassword">
        <button mat-icon-button matSuffix (click)="hideConfirmationPassword($event)" [attr.aria-label]="'Hide confirmation password'"
        [attr.aria-pressed]="hideConfirmationPasswordSignal()">
          <mat-icon>{{hideConfirmationPasswordSignal() ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        @if (confirmationPassword?.hasError('required')) {
          <mat-error>
            <strong>Ingrese una contraseña</strong>
          </mat-error>
        } @else if (confirmationPassword?.hasError('minlength')) {
          <mat-error>
            <strong>La contraseña debe tener 9 o más caracteres</strong>
          </mat-error>
        } @else if (confirmationPassword?.hasError('confirmedValidator')) {
          <mat-error>
            <strong>Las contraseñas no coinciden</strong>
          </mat-error>
        }
      </mat-form-field>
      <div class="button-container">
        <small class="password-indications" [ngClass]="{'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}">- Al menos 8 caracteres<br>- Al menos 1 número<br>- Al menos 1 caracter especial</small>
        <button class="btn submit-button" [ngClass]="{'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}" [disabled]="registerForm.invalid" type="submit">Registrarse</button>
      </div>
      <small class="terms-service" [ngClass]="{'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}">
        Protegido por reCAPTCHA y sujeto a la <a href="https://techforb.com/es/techforb-ar" target="_blank" rel="noopener">Política de Privacidad</a> y <a href="https://techforb.com/es/techforb-ar" target="_blank" rel="noopener">Condiciones</a>.
      </small>
      <div class="login-cta">
        <p>¿Ya tienes una cuenta? <a [routerLink]="['/login']">Iniciar sesión</a></p>
      </div>
    </form>
    <div class="spacer" [ngClass]="{'medium-screen': breakpointLevel()>=breakpointLevelMap[Breakpoints.Medium]}"></div>
  </div>
</div>